
{%load static%}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 ">
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
    <link rel="stylesheet" href="{%static 'css/adminDashboard.css'%}">
    <title>Admin Dashboard</title>
</head>

<body>
    
        <main>
            <div class="cards">
                <div class="card-single">
                    <div>
                        <h1>{{numberOfStudents}}</h1><!-- num of Students -->
                        <span>Students</span>
                    </div>
                    <div>
                        <span class="las la-users"></span>
                    </div>
                </div>  
                <div class="card-single">
                    <div>
                        <h1>{{numberOfLectures}}</h1><!-- num of Lectures -->
                        <span>Lectures</span>
                    </div>
                    <div>
                        <span class="las la-book"></span>
                    </div>
                </div>    
                <div class="card-single">
                    <div>
                        <h1>{{numberOfFiles}}</h1><!-- num of Quizzes -->
                        <span>Files</span>
                    </div>
                    <div>
                        <span class="las la-clipboard-list"></span>
                    </div>
                </div> 
                <div class="card-single">
                    <div>
                        <h1>{{dailyLogins}}</h1><!-- num of income -->
                        <span>Daily Logins</span>
                    </div>
                    <div>
                        <span class="las la-eye"></span>
                    </div>
                </div>      
            </div>

            <!-- Add graphs -->
            <div class="graphBox">

                <div class="box">
                    <canvas id="myChart_1">
                        Your browser does not support the HTML canvas tag.
                    </canvas>
                </div>
                <div class="box">
                    <canvas id="myChart_2">
                        Your browser does not support the HTML canvas tag.
                    </canvas>
                </div>
                <div class="box"> 
                    <canvas id="myChart_3">
                        Your browser does not support the HTML canvas tag.
                    </canvas>
                </div>
                <div class="box">
                    <canvas id="myChart_4">
                        Your browser does not support the HTML canvas tag.
                    </canvas>
                </div>
            </div>

            <div class="recent-grid">
                <div class="projects">
                    <div class="card">
                        <div class="card-header">
                            <h3>Recent Lectures</h3>
                            <a href="{% url 'lectures'%}">
                                <button >See All<span class="las la-arrow-right"></span></button>
                            </a>
                        </div>

                        <div class="card-body">
                            <div class="table-responsive">
                                <table width="100%">
                                    <thead>
                                        <tr>
                                            <td>Lecture Title</td>
                                            <td>Subject</td>
                                            <td>Education Level</td>
                                            <td>Number Of Registeration</td>
                                            <td>Creation Date</td>
                                            <td>Status</td>
                                        </tr>
                                    </thead>
    
                                    <tbody>

                                        {% with new_list=lectures|slice:":5" %}
                                            {% for lecture in new_list %}
                                                
                                                <tr>
                                                
                                                    <td>
                                                        <a href="{%url 'lecture' lecture_id=lecture.id%}">
                                                            {{lecture.title|title}}
                                                        </a>
                                                    </td>
                                                
                                                    <td>
                                                        <a href="{%url 'lecture' lecture_id=lecture.id%}">
                                                            {{lecture.branch|title}}
                                                        </a>
                                                    </td>
                                                    <td>
                                                        <a href="{%url 'lecture' lecture_id=lecture.id%}"> 
                                                            {{lecture.gradeLevel|title}}
                                                        </a>
                                                    </td>
                                                    <td>
                                                        <a href="{%url 'lecture' lecture_id=lecture.id%}">
                                                            {{lecture.getNumberOfRegistrations}}
                                                        </a>
                                                    </td>
                                                    <td>
                                                        <a href="{%url 'lecture' lecture_id=lecture.id%}"> 
                                                            {{lecture.creationTime}}
                                                        </a>
                                                    </td>
                                                
                                                    <td>
                                                        <a href="{%url 'lecture' lecture_id=lecture.id%}">
                                                            {%if lecture.active%}
                                                                <span class="status green"></span>
                                                                Active
                                                            {%else%}
                                                                <span class="status red"></span>
                                                                Inactive
                                                            {%endif%}
                                                        </a>
                                                    </td>
                                                    
                                                </tr>
        
                                            {%endfor%}
                                        {%endwith%}
                                    </tbody>
    
                                </table>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="customers">
                    <div class="card">
                        <div class="card-header">
                            <h3>New Students</h3>
                            <button>See All<span class="las la-arrow-right"></span></button>
                        </div>

                        <div class="card-body">
                            {% with new_list=students|slice:":5" %}
                                {% for user in new_list %}
                                    <a href="#">
                                        <div class="customer">
                                            <div class="info">
                                                <img src="{{user.profile_image.url}}" width="40px" height="40px" alt="">
                                                <div>
                                                    <h4>{{user.full_name}}</h4>
                                                    <small>ID : #{{user.id}}</small>
                                                </div>
                                            </div>
                                            <div class="contact">
                                                <span class="las la-user-circle"></span>
                                                <span class="las la-comment"></span>
                                                <span class="las la-phone"></span>
                                            </div>
                                        </div>
                                    </a>
                                {%endfor%}
                            {%endwith%}

                        </div>
                    </div>
                </div>

            </div>


        </main>
    </div>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <script src="{%static 'js/adminCharts.js'%}"></script>
</body>

</html>